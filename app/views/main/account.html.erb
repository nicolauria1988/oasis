<h2 class="text-xl mt-10 mb-5">Profile</h2>

<div class="overflow-x-scroll">
<table class="min-w-full divide-y divide-solid divide-gray-300">
  <thead>
    <tr class="border-b-3 border-gray-300">
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Email</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Name</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Phone</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Street</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">City</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">State</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Country</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Zip</th>
    </tr>
  </thead>
  <tbody class="divide-y divide-solid divide-gray-200">
    <tr>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.email %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.name %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.phone %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.street %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.city %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.state %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.country %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= current_user.zip_code %></td>
      <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500">
        <a href="<%= edit_user_path(current_user) %>" class="text-primary">Edit</a>
      </td>
    </tr>
  </tbody>
</table>
</div>

<h2 class="text-xl mt-5 mb-5">Locations</h2>

<div class="overflow-x-scroll">
<table class="min-w-full divide-y divide-solid divide-gray-300">
  <thead>
    <tr class="border-b-3 border-gray-300">
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Street</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">City</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Zip</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">State</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Country</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Type</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Price</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Rating</th>
      <th scope="col" class="px-3 py-3.5 text-right text-sm font-semibold text-primary">
        <a href="<%= new_location_path %>">Add New</a>
      </th>
    </tr>
  </thead>
  <tbody class="divide-y divide-solid divide-gray-200">
    <% current_user.locations.each do |location| %>
      <tr>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= location.street %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= location.city %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= location.zip_code %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= location.state %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= location.country %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= location.category %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= "$#{location.price}" %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500">4.7 (100 reviews)</td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500 text-right">
          <a href="<%= location_availability_path(location) %>" class="text-primary inline-block">Availability</a>
          <span> | </span>
          <a href="<%= edit_location_path(location) %>" class="text-primary inline-block">Edit</a>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>

<h2 class="text-xl mt-10 mb-5">Reservations</h2>

<div class="overflow-x-scroll">
<table class="min-w-full divide-y divide-solid divide-gray-300 mb-5">
  <thead>
    <tr class="border-b-3 border-gray-300">
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Role</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Street</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">City</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">State</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Zip</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Country</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Start Date</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">End Date</th>
      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Total</th>
    </tr>
  </thead>
  <tbody class="divide-y divide-solid divide-gray-200">
    <% current_user.reservations.each do |reservation| %>
      <tr>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500">
          <% if current_user == reservation.user %>
            Guest
          <% else %>
            Host
          <% end %>
        </td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.street %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.city %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.state %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.zip_code %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.country %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.start_date %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.end_date %></td>
        <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500">$<%= reservation.total %></td>
      </tr>
    <% end %>
    <% current_user.locations.each do |location| %>
      <% location.reservations.each do |reservation| %>
        <tr>
          <td class="py-4 pr-3 pl-4 text-sm font-medium whitespace-nowrap text-gray-900 sm:pl-0">
            <% if current_user == reservation.user %>
              Guest
            <% else %>
              Host
            <% end %>
          </td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.street %></td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.city %></td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.state %></td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.zip_code %></td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.location.country %></td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.start_date %></td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500"><%= reservation.end_date %></td>
          <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500">$<%= reservation.total %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>
</div>